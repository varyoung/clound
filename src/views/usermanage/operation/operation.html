<div class="user-operation">
    <AddOrganizationFrame v-if="dialogVisible" :dialogVisible="dialogVisible" @close="close" @importNode="importNode" />
    <div class="panel">
        <ModuleTitle :titles="['添加用户']" />
        <el-form :model="form" :rules="rules" ref="formbasic" label-width="100px" class="demo-form">
            <el-form-item label="用户名" prop="user_name">
                <el-input v-model="form.user_name" size="small"></el-input>
            </el-form-item>
            <el-form-item label="用户角色">
                <el-select v-model="form.role" placeholder="请选择用户角色" size="small">
                    <el-option :key="role.role_id" v-for="role in roles" :label="role.name" :value="role.role_id"></el-option>
                </el-select>
            </el-form-item>
            <el-form-item label="企业名称">
                <el-input :disabled="true" v-model="form.company" size="small" style="width:230px;margin-right:10px"></el-input>
                <el-button size="small" @click="addOrganization">选择</el-button>
            </el-form-item>
            <el-form-item label="手机号码" prop="phone">
                <el-input v-model="form.phone" size="small"></el-input>
            </el-form-item>
            <el-form-item label="邮箱" prop="email">
                <el-input v-model="form.email" size="small"></el-input>
            </el-form-item>
            <el-form-item v-if="operation==='add'" label="密码" prop="pwd">
                <el-input type="password" v-model="form.pwd" size="small"></el-input>
            </el-form-item>
            <el-form-item label="备注">
                <el-input type="textarea" :rows="2" placeholder="请输入内容" v-model="form.remark">
                </el-input>
            </el-form-item>
        </el-form>
        <ModuleTitle :titles="['服务权限']" />
        <el-form :model="form" :rules="rules" ref="formserver" label-width="100px" class="demo-form">
            <el-form-item label="网站总数">
                <el-input v-model="form.max_domain_num" size="small"></el-input>
            </el-form-item>
            <el-form-item label="服务项">
                <div class="switch">
                    WEB应用防火墙
                    <el-switch v-model="form.waf_enable">
                    </el-switch>
                </div>
                <div class="switch">
                    CC防御
                    <el-switch v-model="form.cdn_enable">
                    </el-switch>
                </div>
                <div class="switch">
                    网站替身
                    <el-switch v-model="form.mirror_enable">
                    </el-switch>
                </div>
                <div class="switch">
                    网站加速
                    <el-switch v-model="form.ads_enable">
                    </el-switch>
                </div>
            </el-form-item>
            <el-form-item label="到期时间">
                <el-date-picker value-format="yyyyMMDD" v-model="form.expiry_date" type="date" size="small" placeholder="选择到期时间">
                </el-date-picker>
            </el-form-item>
            <el-form-item>
                <el-button size="small" type="primary" @click="submitForm('formbasic','formserver')">确定</el-button>
                <el-button size="small" @click="back()">取消</el-button>
            </el-form-item>
        </el-form>
    </div>
</div>